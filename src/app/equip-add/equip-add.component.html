<div class="alert bg-success text-white alert-dismissible fade 
        show mx-auto w-50" role="alert" dir="rtl" lang="ar" [ngClass]="{'d-none': result != 'done'}">
  <strong>تهانينا!</strong> تم اضافة المعدة بنجاح!
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
<form class="border border-3 form-inline m-auto p-3 rounded-3 
    shadow w-75 text-center" >
    <div class="row">
        <div class="form-group p-4 col-6">
            <label for="equipment_id" class="mb-2">اختر المعدة</label>
            <select name="equipment_id" class="form-select text-center"
                placeholder="اختر المعدة" required [(ngModel)]="equip_id">
                <option selected disabled>اختر المعدة ...</option>
                <option *ngFor="let equipment of (Equipments | async)" [value]="equipment.id | number">
                    {{ equipment.title }}</option>
            </select>
        </div>
        <div class="form-group p-4 col-6">
            <label for="equipment_serial" class="mb-2">ادخل رقم المعدة</label>
            <input type="number" name="equipment_serial" [(ngModel)]="equip_serial"
                 class="form-control text-center"
                placeholder="ادخل رقم المعدة" required>
        </div>
    </div>
    <div class="form-group mb-2">
      <label for="damage_report">بيان الاعطال</label>
      <textarea class="form-control" name="damage_report" [(ngModel)]="report"
       id="damage_report" rows="3" required lang="ar"></textarea>
    </div>
    <button  class="btn btn-outline-primary w-25 mw-1 mt-3" 
        (click)="addHistory()">إضافة</button>
</form>


<!-- <form class="border border-3 form-inline m-auto p-3 rounded-3 
    shadow w-75 text-center">
    <div class="row justify-content-around">
        <div class="form-group p-2 col-3">
            <label for="equipment_id" class="mb-2">اختر المعدة</label>
            <select name="equipment_id" class="form-select text-center" required [(ngModel)]="equip_id">
                <option selected disabled>اختر المعدة ...</option>
                <option *ngFor="let equipment of (Equipments | async)" [value]="equipment.id | number">
                    {{ equipment.title }}</option>
            </select>
        </div>
        <div class="form-group p-2 col-3">
            <label for="equipment_serial" class="mb-2">ادخل رقم المعدة</label>
            <input type="number" name="equipment_serial" [(ngModel)]="equip_serial"
                 class="form-control text-center"
                placeholder="ادخل رقم المعدة" required>
        </div>
        <div class="form-group p-2 col-3">
            <label for="register_date" class="mb-2">ادخل تاريخ الخروج</label>
            <input type="date" name="register_date" [(ngModel)]="register_date"
                 class="form-control text-center"
                placeholder="ادخل تاريخ الخروج" required>
        </div>
    </div>
    <div class="form-group mb-2">
      <label for="damage_report">ملاحظات</label>
      <textarea class="form-control" name="damage_report" [(ngModel)]="report"
       id="damage_report" rows="2" lang="ar"></textarea>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group py-2">
                <label for="selectBug" class="mb-2">اختر العطل</label>
                <div class="input-group">
                    <select name="selectBug" #bugSelect
                            class="form-select text-center" required>
                        <option selected disabled value="">اختر العطل...</option>
                        <option *ngFor="let bug of bugs; let i = index" [value]="i">
                            {{ bug.title }}</option>
                    </select>
                    <button class="btn btn-outline-secondary fw-bold rounded"
                            (click)="add_bug(bugSelect.value)">+</button>
                </div>
            </div>
            <ul class="list-group p-0">
                <li *ngFor="let item of selectedBugs; let i=index"
                    class="list-group-item d-flex align-items-center p-2">
                    <button type="button" class="btn-close" aria-label="Close"
                        (click)="remove_selected_bug(i)"></button>
                    <span class="pe-1">{{ item.title }}</span>
                    <div class="me-auto">
                        <input type="number" class="form-control text-center" 
                            name="bug_quantity" [value]="item.quantity" min="1" max="100">
                    </div>
                </li>
            </ul>
        </div>
        <div class="vr p-0"></div>
        <div class="col">
            <div class="form-group py-2">
                <label for="parts" class="mb-2">اختر قطع الغيار</label>
                <div class="input-group">
                    <select name="parts" #partSelect  class="form-select text-center">
                        <option selected disabled value="">اختر قطع الغيار...</option>
                        <option *ngFor="let part of parts; let i=index" [value]="i">
                            {{ part.title }}</option>
                    </select>
                    <button class="btn btn-outline-secondary fw-bold rounded" 
                            (click)="add_part(partSelect.value)">+</button>
                </div>
            </div>
            <ul class="list-group p-0">
                <li *ngFor="let item of selectedParts; let i=index" 
                    class="list-group-item d-flex align-items-center p-2">
                    <button type="button" class="btn-close" aria-label="Close" 
                        (click)="remove_selected_part(i)"></button>
                    <span class="pe-1">{{ item.title }}</span>
                    <div class="me-auto">
                        <input type="number" class="form-control text-center" name="part_quantity" 
                            [value]="item.quantity" min="1" max="100">
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <button  class="btn btn-outline-primary w-25 mw-1 mt-3" 
        (click)="print()">إضافة</button>
</form> -->